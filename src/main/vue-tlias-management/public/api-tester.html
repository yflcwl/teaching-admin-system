<!DOCTYPE html>
<!-- å£°æ˜æ–‡æ¡£ç±»å‹ä¸ºHTML5 -->
<html lang="zh-CN">
<!-- æ ¹å…ƒç´ ï¼Œè®¾ç½®è¯­è¨€ä¸ºä¸­æ–‡ç®€ä½“ -->
<head>
    <!-- æ–‡æ¡£å¤´éƒ¨å¼€å§‹ -->
    <meta charset="UTF-8">
    <!-- è®¾ç½®å­—ç¬¦ç¼–ç ä¸ºUTF-8ï¼Œæ”¯æŒä¸­æ–‡ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- å“åº”å¼è®¾è®¡ï¼Œç¡®ä¿åœ¨ä¸åŒè®¾å¤‡ä¸Šæ­£å¸¸æ˜¾ç¤º -->
    <title>ğŸ¦ APIæµ‹è¯•å·¥å…· - å°é¸ŸåŠ©æ‰‹</title>
    <!-- é¡µé¢æ ‡é¢˜ï¼Œæ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡ç­¾é¡µ -->

    <!-- å¼•å…¥å°é¸Ÿæ ·å¼ -->
    <link rel="stylesheet" href="./pet/pet-styles.css">
    <!-- å¼•å…¥å¤–éƒ¨å°é¸Ÿæ¡Œå® çš„CSSæ ·å¼æ–‡ä»¶ -->

    <style>
        /* å†…åµŒCSSæ ·å¼å¼€å§‹ */
        /* é¡µé¢ä¸»æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        /* é€šç”¨é€‰æ‹©å™¨ï¼šé‡ç½®æ‰€æœ‰å…ƒç´ çš„å†…å¤–è¾¹è·ï¼Œè®¾ç½®ç›’æ¨¡å‹ä¸ºborder-box */

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            /* è®¾ç½®å­—ä½“æ ˆï¼Œä¼˜å…ˆä½¿ç”¨ç³»ç»Ÿå­—ä½“ */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            /* èƒŒæ™¯æ¸å˜ï¼šä»è“è‰²åˆ°ç´«è‰² */
            min-height: 100vh;
            /* æœ€å°é«˜åº¦ä¸ºè§†å£é«˜åº¦ï¼Œç¡®ä¿å æ»¡å…¨å± */
            padding: 20px;
            /* å†…è¾¹è· */
        }

        .container {
            max-width: 1400px;
            /* æœ€å¤§å®½åº¦ */
            margin: 0 auto;
            /* æ°´å¹³å±…ä¸­ */
            display: grid;
            /* ä½¿ç”¨CSS Gridå¸ƒå±€ */
            grid-template-columns: 1fr 400px;
            /* ä¸¤åˆ—ï¼šç¬¬ä¸€åˆ—è‡ªé€‚åº”ï¼Œç¬¬äºŒåˆ—å›ºå®š400px */
            gap: 20px;
            /* ç½‘æ ¼é—´è· */
            height: calc(100vh - 40px);
            /* é«˜åº¦è®¡ç®—ï¼šè§†å£é«˜åº¦å‡å»å†…è¾¹è· */
        }

        @media (max-width: 1024px) {
            /* å“åº”å¼è®¾è®¡ï¼šå½“å±å¹•å®½åº¦å°äºç­‰äº1024pxæ—¶ */
            .container {
                grid-template-columns: 1fr;
                /* æ”¹ä¸ºå•åˆ—å¸ƒå±€ */
                grid-template-rows: auto 1fr;
                /* ä¸¤è¡Œï¼šç¬¬ä¸€è¡Œè‡ªé€‚åº”ï¼Œç¬¬äºŒè¡Œå æ»¡å‰©ä½™ç©ºé—´ */
            }
        }

        /* APIæµ‹è¯•é¢æ¿æ ·å¼ */
        .api-panel {
            background: white;
            /* èƒŒæ™¯ç™½è‰² */
            border-radius: 15px;
            /* åœ†è§’ */
            padding: 30px;
            /* å†…è¾¹è· */
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            /* é˜´å½±æ•ˆæœ */
            display: flex;
            /* å¼¹æ€§å¸ƒå±€ */
            flex-direction: column;
            /* å‚ç›´æ–¹å‘æ’åˆ—å­å…ƒç´  */
            overflow: hidden;
            /* è¶…å‡ºéƒ¨åˆ†éšè— */
        }

        .api-header {
            margin-bottom: 30px;
            /* åº•éƒ¨å¤–è¾¹è· */
        }

        .api-header h1 {
            color: #2c3e50;
            /* æ ‡é¢˜é¢œè‰² */
            font-size: 28px;
            /* å­—ä½“å¤§å° */
            margin-bottom: 10px;
            /* åº•éƒ¨å¤–è¾¹è· */
        }

        .api-header .subtitle {
            color: #7f8c8d;
            /* å‰¯æ ‡é¢˜é¢œè‰² */
            font-size: 14px;
            /* å­—ä½“å¤§å° */
        }

        /* å°é¸Ÿé¢æ¿æ ·å¼ */
        .pet-panel {
            background: white;
            /* èƒŒæ™¯ç™½è‰² */
            border-radius: 15px;
            /* åœ†è§’ */
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            /* é˜´å½±æ•ˆæœ */
            overflow: hidden;
            /* è¶…å‡ºéƒ¨åˆ†éšè— */
            display: flex;
            /* å¼¹æ€§å¸ƒå±€ */
            flex-direction: column;
            /* å‚ç›´æ–¹å‘æ’åˆ—å­å…ƒç´  */
        }

        .pet-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            /* èƒŒæ™¯æ¸å˜ */
            color: white;
            /* æ–‡å­—é¢œè‰²ç™½è‰² */
            padding: 20px;
            /* å†…è¾¹è· */
            text-align: center;
            /* æ–‡å­—å±…ä¸­ */
        }

        .pet-header h2 {
            font-size: 20px;
            /* å­—ä½“å¤§å° */
            margin-bottom: 5px;
            /* åº•éƒ¨å¤–è¾¹è· */
        }

        .pet-container {
            flex: 1;
            /* å æ»¡å‰©ä½™ç©ºé—´ */
            position: relative;
            /* ç›¸å¯¹å®šä½ï¼Œç”¨äºå­å…ƒç´ å®šä½ */
            min-height: 400px;
            /* æœ€å°é«˜åº¦ */
            border: 2px dashed #e0e0e0;
            /* è™šçº¿è¾¹æ¡† */
            margin: 15px;
            /* å¤–è¾¹è· */
            border-radius: 10px;
            /* åœ†è§’ */
            overflow: hidden;
            /* è¶…å‡ºéƒ¨åˆ†éšè— */
        }

        .pet-controls {
            padding: 20px;
            /* å†…è¾¹è· */
            background: #f8f9fa;
            /* èƒŒæ™¯è‰² */
            border-top: 1px solid #e0e0e0;
            /* é¡¶éƒ¨è¾¹æ¡† */
        }

        /* APIæµ‹è¯•è¡¨å•æ ·å¼ */
        .api-form {
            flex: 1;
            /* å æ»¡å‰©ä½™ç©ºé—´ */
            overflow-y: auto;
            /* å‚ç›´æ–¹å‘æº¢å‡ºæ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ */
            padding-right: 10px;
            /* å³ä¾§å†…è¾¹è· */
        }

        .form-section {
            margin-bottom: 25px;
            /* åº•éƒ¨å¤–è¾¹è· */
            padding: 20px;
            /* å†…è¾¹è· */
            background: #f8f9fa;
            /* èƒŒæ™¯è‰² */
            border-radius: 10px;
            /* åœ†è§’ */
            border-left: 4px solid #667eea;
            /* å·¦ä¾§è¾¹æ¡†ï¼Œä½œä¸ºè£…é¥°çº¿ */
        }

        .form-section h3 {
            color: #2c3e50;
            /* æ ‡é¢˜é¢œè‰² */
            margin-bottom: 15px;
            /* åº•éƒ¨å¤–è¾¹è· */
            font-size: 16px;
            /* å­—ä½“å¤§å° */
            display: flex;
            /* å¼¹æ€§å¸ƒå±€ */
            align-items: center;
            /* å‚ç›´å±…ä¸­ */
            gap: 8px;
            /* å­å…ƒç´ é—´è· */
        }

        .form-section h3 i {
            color: #667eea;
            /* å›¾æ ‡é¢œè‰² */
        }

        .form-group {
            margin-bottom: 15px;
            /* åº•éƒ¨å¤–è¾¹è· */
        }

        .form-group label {
            display: block;
            /* å—çº§å…ƒç´ ï¼Œç‹¬å ä¸€è¡Œ */
            margin-bottom: 8px;
            /* åº•éƒ¨å¤–è¾¹è· */
            color: #555;
            /* æ ‡ç­¾é¢œè‰² */
            font-weight: 500;
            /* å­—ä½“ç²—ç»† */
            font-size: 13px;
            /* å­—ä½“å¤§å° */
        }

        .form-control {
            width: 100%;
            /* å®½åº¦100% */
            padding: 12px 15px;
            /* å†…è¾¹è· */
            border: 2px solid #e1e5e9;
            /* è¾¹æ¡† */
            border-radius: 8px;
            /* åœ†è§’ */
            font-size: 14px;
            /* å­—ä½“å¤§å° */
            transition: all 0.3s;
            /* è¿‡æ¸¡åŠ¨ç”» */
            font-family: 'Courier New', monospace;
            /* ç­‰å®½å­—ä½“ï¼Œé€‚åˆæ˜¾ç¤ºä»£ç  */
        }

        .form-control:focus {
            outline: none;
            /* ç§»é™¤é»˜è®¤è½®å»“çº¿ */
            border-color: #667eea;
            /* èšç„¦æ—¶è¾¹æ¡†é¢œè‰² */
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            /* èšç„¦æ—¶é˜´å½±æ•ˆæœ */
        }

        .btn {
            display: inline-flex;
            /* å†…è”å¼¹æ€§å¸ƒå±€ */
            align-items: center;
            /* å‚ç›´å±…ä¸­ */
            justify-content: center;
            /* æ°´å¹³å±…ä¸­ */
            gap: 8px;
            /* å­å…ƒç´ é—´è· */
            padding: 12px 24px;
            /* å†…è¾¹è· */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            /* èƒŒæ™¯æ¸å˜ */
            color: white;
            /* æ–‡å­—é¢œè‰² */
            border: none;
            /* æ— è¾¹æ¡† */
            border-radius: 8px;
            /* åœ†è§’ */
            font-size: 14px;
            /* å­—ä½“å¤§å° */
            font-weight: 600;
            /* å­—ä½“ç²—ç»† */
            cursor: pointer;
            /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ‰‹å‹ */
            transition: all 0.3s;
            /* è¿‡æ¸¡åŠ¨ç”» */
            width: 100%;
            /* å®½åº¦100% */
        }

        .btn:hover {
            transform: translateY(-2px);
            /* æ‚¬åœæ—¶ä¸Šç§»2px */
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            /* æ‚¬åœæ—¶é˜´å½±æ•ˆæœ */
        }

        .btn:active {
            transform: translateY(0);
            /* ç‚¹å‡»æ—¶æ¢å¤åŸä½ */
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            /* æˆåŠŸæŒ‰é’®èƒŒæ™¯æ¸å˜ï¼šç»¿è‰² */
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #fd7e14 100%);
            /* å±é™©æŒ‰é’®èƒŒæ™¯æ¸å˜ï¼šçº¢è‰²åˆ°æ©™è‰² */
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            /* æ¬¡è¦æŒ‰é’®èƒŒæ™¯æ¸å˜ï¼šç°è‰² */
        }

        /* å¿«æ·æŒ‰é’®ç»„ */
        .quick-buttons {
            display: grid;
            /* ç½‘æ ¼å¸ƒå±€ */
            grid-template-columns: repeat(2, 1fr);
            /* ä¸¤åˆ—ç­‰å®½ */
            gap: 10px;
            /* ç½‘æ ¼é—´è· */
            margin-top: 10px;
            /* é¡¶éƒ¨å¤–è¾¹è· */
        }

        .quick-btn {
            padding: 10px;
            /* å†…è¾¹è· */
            background: white;
            /* èƒŒæ™¯ç™½è‰² */
            border: 2px solid #e1e5e9;
            /* è¾¹æ¡† */
            border-radius: 6px;
            /* åœ†è§’ */
            font-size: 12px;
            /* å­—ä½“å¤§å° */
            cursor: pointer;
            /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ‰‹å‹ */
            transition: all 0.2s;
            /* è¿‡æ¸¡åŠ¨ç”» */
            text-align: center;
            /* æ–‡å­—å±…ä¸­ */
        }

        .quick-btn:hover {
            background: #667eea;
            /* æ‚¬åœæ—¶èƒŒæ™¯è‰² */
            color: white;
            /* æ‚¬åœæ—¶æ–‡å­—é¢œè‰² */
            border-color: #667eea;
            /* æ‚¬åœæ—¶è¾¹æ¡†é¢œè‰² */
        }

        /* çŠ¶æ€æŒ‡ç¤ºå™¨ */
        .status-indicator {
            padding: 10px 15px;
            /* å†…è¾¹è· */
            border-radius: 8px;
            /* åœ†è§’ */
            margin: 15px 0;
            /* ä¸Šä¸‹å¤–è¾¹è· */
            font-size: 13px;
            /* å­—ä½“å¤§å° */
            font-weight: 500;
            /* å­—ä½“ç²—ç»† */
            display: none;
            /* é»˜è®¤éšè— */
        }

        .status-success {
            background: #d4edda;
            /* æˆåŠŸçŠ¶æ€èƒŒæ™¯è‰² */
            color: #155724;
            /* æˆåŠŸçŠ¶æ€æ–‡å­—é¢œè‰² */
            border: 1px solid #c3e6cb;
            /* æˆåŠŸçŠ¶æ€è¾¹æ¡† */
        }

        .status-error {
            background: #f8d7da;
            /* é”™è¯¯çŠ¶æ€èƒŒæ™¯è‰² */
            color: #721c24;
            /* é”™è¯¯çŠ¶æ€æ–‡å­—é¢œè‰² */
            border: 1px solid #f5c6cb;
            /* é”™è¯¯çŠ¶æ€è¾¹æ¡† */
        }

        .status-loading {
            background: #d1ecf1;
            /* åŠ è½½çŠ¶æ€èƒŒæ™¯è‰² */
            color: #0c5460;
            /* åŠ è½½çŠ¶æ€æ–‡å­—é¢œè‰² */
            border: 1px solid #bee5eb;
            /* åŠ è½½çŠ¶æ€è¾¹æ¡† */
        }

        /* ç»“æœå±•ç¤ºåŒº */
        .result-section {
            margin-top: 20px;
            /* é¡¶éƒ¨å¤–è¾¹è· */
        }

        .result-tabs {
            display: flex;
            /* å¼¹æ€§å¸ƒå±€ */
            border-bottom: 2px solid #e1e5e9;
            /* åº•éƒ¨è¾¹æ¡† */
            margin-bottom: 15px;
            /* åº•éƒ¨å¤–è¾¹è· */
        }

        .tab {
            padding: 10px 20px;
            /* å†…è¾¹è· */
            cursor: pointer;
            /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ‰‹å‹ */
            font-size: 13px;
            /* å­—ä½“å¤§å° */
            font-weight: 500;
            /* å­—ä½“ç²—ç»† */
            color: #7f8c8d;
            /* æ ‡ç­¾é¢œè‰² */
            border-bottom: 3px solid transparent;
            /* åº•éƒ¨è¾¹æ¡†ï¼Œé€æ˜ */
            transition: all 0.3s;
            /* è¿‡æ¸¡åŠ¨ç”» */
        }

        .tab:hover {
            color: #667eea;
            /* æ‚¬åœæ—¶æ–‡å­—é¢œè‰² */
        }

        .tab.active {
            color: #667eea;
            /* æ¿€æ´»æ ‡ç­¾æ–‡å­—é¢œè‰² */
            border-bottom-color: #667eea;
            /* æ¿€æ´»æ ‡ç­¾åº•éƒ¨è¾¹æ¡†é¢œè‰² */
        }

        .tab-content {
            display: none;
            /* é»˜è®¤éšè— */
            background: #f8f9fa;
            /* èƒŒæ™¯è‰² */
            padding: 20px;
            /* å†…è¾¹è· */
            border-radius: 8px;
            /* åœ†è§’ */
            max-height: 300px;
            /* æœ€å¤§é«˜åº¦ */
            overflow-y: auto;
            /* å‚ç›´æ–¹å‘æº¢å‡ºæ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ */
        }

        .tab-content.active {
            display: block;
            /* æ¿€æ´»æ—¶æ˜¾ç¤ºä¸ºå—çº§å…ƒç´  */
        }

        .response-area {
            font-family: 'Courier New', monospace;
            /* ç­‰å®½å­—ä½“ */
            font-size: 12px;
            /* å­—ä½“å¤§å° */
            line-height: 1.5;
            /* è¡Œé«˜ */
            white-space: pre-wrap;
            /* ä¿ç•™ç©ºç™½ç¬¦ï¼Œè‡ªåŠ¨æ¢è¡Œ */
            word-break: break-all;
            /* å…è®¸åœ¨å•è¯å†…æ¢è¡Œ */
        }

        /* å°é¸Ÿæ§åˆ¶æŒ‰é’® */
        .pet-btn-group {
            display: grid;
            /* ç½‘æ ¼å¸ƒå±€ */
            grid-template-columns: repeat(3, 1fr);
            /* ä¸‰åˆ—ç­‰å®½ */
            gap: 10px;
            /* ç½‘æ ¼é—´è· */
            margin-top: 15px;
            /* é¡¶éƒ¨å¤–è¾¹è· */
        }

        .pet-btn {
            padding: 8px;
            /* å†…è¾¹è· */
            background: white;
            /* èƒŒæ™¯ç™½è‰² */
            border: 2px solid #e1e5e9;
            /* è¾¹æ¡† */
            border-radius: 6px;
            /* åœ†è§’ */
            font-size: 11px;
            /* å­—ä½“å¤§å° */
            cursor: pointer;
            /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ‰‹å‹ */
            transition: all 0.2s;
            /* è¿‡æ¸¡åŠ¨ç”» */
            text-align: center;
            /* æ–‡å­—å±…ä¸­ */
        }

        .pet-btn:hover {
            background: #f0f0f0;
            /* æ‚¬åœæ—¶èƒŒæ™¯è‰² */
        }

        /* æ»šåŠ¨æ¡æ ·å¼ */
        ::-webkit-scrollbar {
            width: 8px;
            /* æ»šåŠ¨æ¡å®½åº¦ */
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            /* æ»šåŠ¨æ¡è½¨é“èƒŒæ™¯è‰² */
            border-radius: 4px;
            /* åœ†è§’ */
        }

        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            /* æ»šåŠ¨æ¡æ»‘å—é¢œè‰² */
            border-radius: 4px;
            /* åœ†è§’ */
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
            /* æ‚¬åœæ—¶æ»šåŠ¨æ¡æ»‘å—é¢œè‰² */
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            /* å½“å±å¹•å®½åº¦å°äºç­‰äº768pxæ—¶ */
            body {
                padding: 10px;
                /* å‡å°‘å†…è¾¹è· */
            }

            .container {
                height: auto;
                /* é«˜åº¦è‡ªé€‚åº” */
            }

            .api-panel, .pet-panel {
                padding: 20px;
                /* å‡å°‘å†…è¾¹è· */
            }

            .pet-container {
                min-height: 300px;
                /* å‡å°‘æœ€å°é«˜åº¦ */
            }

            .quick-buttons {
                grid-template-columns: 1fr;
                /* æ”¹ä¸ºå•åˆ—å¸ƒå±€ */
            }
        }
    </style>
    <!-- å†…åµŒCSSæ ·å¼ç»“æŸ -->
</head>
<!-- æ–‡æ¡£å¤´éƒ¨ç»“æŸ -->
<body>
<!-- æ–‡æ¡£ä¸»ä½“å¼€å§‹ -->
<div class="container">
    <!-- å·¦ä¾§ï¼šAPIæµ‹è¯•é¢æ¿ -->
    <div class="api-panel">
        <div class="api-header">
            <h1>ğŸ”§ APIæµ‹è¯•å·¥å…·</h1>
            <!-- ä¸»æ ‡é¢˜ -->
            <p class="subtitle">å¯çˆ±çš„å°é¸ŸåŠ©æ‰‹é™ªä½ ä¸€èµ·æµ‹è¯•æ¥å£</p>
            <!-- å‰¯æ ‡é¢˜ -->
        </div>

        <div class="api-form">
            <!-- 1. ç™»å½•åŒº -->
            <div class="form-section">
                <h3><i>ğŸ”</i> ç™»å½•è®¤è¯</h3>
                <!-- è¡¨å•åŒºåŸŸæ ‡é¢˜ -->
                <div class="form-group">
                    <label for="username">ç”¨æˆ·å</label>
                    <!-- ç”¨æˆ·åè¾“å…¥æ¡†æ ‡ç­¾ -->
                    <input type="text" id="username" class="form-control" value="jinyong" placeholder="è¾“å…¥ç”¨æˆ·å">
                    <!-- ç”¨æˆ·åè¾“å…¥æ¡†ï¼Œé¢„è®¾å€¼"jinyong" -->
                </div>
                <div class="form-group">
                    <label for="password">å¯†ç </label>
                    <!-- å¯†ç è¾“å…¥æ¡†æ ‡ç­¾ -->
                    <input type="password" id="password" class="form-control" value="123456" placeholder="è¾“å…¥å¯†ç ">
                    <!-- å¯†ç è¾“å…¥æ¡†ï¼Œé¢„è®¾å€¼"123456" -->
                </div>
                <button class="btn" onclick="login()">
                    <!-- ç™»å½•æŒ‰é’®ï¼Œç‚¹å‡»è§¦å‘login()å‡½æ•° -->
                    <i>ğŸ‘‰</i> ç™»å½•è·å–Token
                </button>
                <div id="tokenResult" class="status-indicator"></div>
                <!-- Tokenç»“æœæ˜¾ç¤ºåŒºåŸŸï¼Œåˆå§‹éšè— -->
            </div>

            <!-- 2. APIè¯·æ±‚åŒº -->
            <div class="form-section">
                <h3><i>ğŸŒ</i> APIè¯·æ±‚é…ç½®</h3>
                <!-- è¡¨å•åŒºåŸŸæ ‡é¢˜ -->
                <div class="form-group">
                    <label for="apiMethod">è¯·æ±‚æ–¹æ³•</label>
                    <!-- è¯·æ±‚æ–¹æ³•ä¸‹æ‹‰æ¡†æ ‡ç­¾ -->
                    <select id="apiMethod" class="form-control">
                        <!-- è¯·æ±‚æ–¹æ³•ä¸‹æ‹‰æ¡† -->
                        <option value="GET">GET</option>
                        <!-- GETæ–¹æ³•é€‰é¡¹ -->
                        <option value="POST">POST</option>
                        <!-- POSTæ–¹æ³•é€‰é¡¹ -->
                        <option value="PUT">PUT</option>
                        <!-- PUTæ–¹æ³•é€‰é¡¹ -->
                        <option value="DELETE">DELETE</option>
                        <!-- DELETEæ–¹æ³•é€‰é¡¹ -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="apiUrl">æ¥å£åœ°å€</label>
                    <!-- æ¥å£åœ°å€è¾“å…¥æ¡†æ ‡ç­¾ -->
                    <input type="text" id="apiUrl" class="form-control" value="/api/depts" placeholder="/api/endpoint">
                    <!-- æ¥å£åœ°å€è¾“å…¥æ¡†ï¼Œé¢„è®¾å€¼"/depts" -->
                </div>
                <div class="form-group">
                    <label for="requestBody">è¯·æ±‚å‚æ•° (JSONæ ¼å¼)</label>
                    <!-- è¯·æ±‚å‚æ•°æ–‡æœ¬åŸŸæ ‡ç­¾ -->
                    <textarea id="requestBody" class="form-control" rows="5" placeholder='{"key": "value"}'>{/* é¢„è®¾çš„JSONå‚æ•°ï¼Œå®é™…ä»£ç ä¸­è¿™é‡Œæœ‰å®Œæ•´JSONï¼Œæ­¤å¤„ç”¨æ³¨é‡Šä»£æ›¿ */}</textarea>
                    <!-- è¯·æ±‚å‚æ•°æ–‡æœ¬åŸŸï¼Œé¢„è®¾å€¼ -->
                </div>
                <button class="btn btn-success" onclick="sendApiRequest()">
                    <!-- å‘é€è¯·æ±‚æŒ‰é’®ï¼Œç‚¹å‡»è§¦å‘sendApiRequest()å‡½æ•° -->
                    <i>ğŸš€</i> å‘é€è¯·æ±‚
                </button>
            </div>

            <!-- 3. å¿«æ·æµ‹è¯•åŒº -->
            <div class="form-section">
                <h3><i>âš¡</i> å¿«æ·æµ‹è¯•</h3>
                <!-- è¡¨å•åŒºåŸŸæ ‡é¢˜ -->
                <div class="quick-buttons">
                    <!-- å¿«æ·æŒ‰é’®å®¹å™¨ï¼Œç½‘æ ¼å¸ƒå±€ -->
                    <button class="quick-btn" onclick="quickApiTest('GET', '/api/depts')">éƒ¨é—¨åˆ—è¡¨</button>
                    <!-- å¿«æ·æµ‹è¯•æŒ‰é’®ï¼šéƒ¨é—¨åˆ—è¡¨ -->
                    <button class="quick-btn" onclick="quickApiTest('GET', '/api/emps?page=1&pageSize=5')">å‘˜å·¥åˆ—è¡¨</button>
                    <!-- å¿«æ·æµ‹è¯•æŒ‰é’®ï¼šå‘˜å·¥åˆ—è¡¨ -->
                    <button class="quick-btn" onclick="quickApiTest('GET', '/api/log/page?page=1&pageSize=5')">æ“ä½œæ—¥å¿—</button>
                    <!-- å¿«æ·æµ‹è¯•æŒ‰é’®ï¼šæ“ä½œæ—¥å¿— -->
                    <button class="quick-btn" onclick="quickApiTest('GET', '/api/clazzs')">ç­çº§åˆ—è¡¨</button>
                    <!-- å¿«æ·æµ‹è¯•æŒ‰é’®ï¼šç­çº§åˆ—è¡¨ -->
                    <button class="quick-btn" onclick="quickApiTest('GET', '/api/students?page=1&pageSize=5')">å­¦å‘˜åˆ—è¡¨</button>
                    <!-- å¿«æ·æµ‹è¯•æŒ‰é’®ï¼šå­¦å‘˜åˆ—è¡¨ -->
                    <button class="quick-btn" onclick="quickApiTest('GET', '/api/actuator/health')">å¥åº·æ£€æŸ¥</button>
                    <!-- å¿«æ·æµ‹è¯•æŒ‰é’®ï¼šå¥åº·æ£€æŸ¥ -->
                    <button class="quick-btn" onclick="quickApiTest('POST', '/api/login', '{&quot;username&quot;:&quot;jinyong&quot;,&quot;password&quot;:&quot;123456&quot;}')">ç™»å½•æµ‹è¯•</button>
                    <!-- å¿«æ·æµ‹è¯•æŒ‰é’®ï¼šç™»å½•æµ‹è¯•ï¼Œæ³¨æ„HTMLå®ä½“è½¬ä¹‰ -->
                    <button class="quick-btn" onclick="testAllApis()">æ‰¹é‡æµ‹è¯•</button>
                    <!-- å¿«æ·æµ‹è¯•æŒ‰é’®ï¼šæ‰¹é‡æµ‹è¯• -->
                </div>
            </div>

            <!-- 4. ç»“æœæ˜¾ç¤ºåŒº -->
            <div class="form-section result-section">
                <h3><i>ğŸ“Š</i> å“åº”ç»“æœ</h3>
                <!-- è¡¨å•åŒºåŸŸæ ‡é¢˜ -->
                <div class="result-tabs">
                    <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
                    <div class="tab active" onclick="switchTab('response')">å“åº”ä½“</div>
                    <!-- å“åº”ä½“æ ‡ç­¾ï¼Œé»˜è®¤æ¿€æ´»ï¼Œç‚¹å‡»åˆ‡æ¢åˆ°å“åº”ä½“ -->
                    <div class="tab" onclick="switchTab('headers')">å“åº”å¤´</div>
                    <!-- å“åº”å¤´æ ‡ç­¾ï¼Œç‚¹å‡»åˆ‡æ¢åˆ°å“åº”å¤´ -->
                    <div class="tab" onclick="switchTab('info')">è¯·æ±‚ä¿¡æ¯</div>
                    <!-- è¯·æ±‚ä¿¡æ¯æ ‡ç­¾ï¼Œç‚¹å‡»åˆ‡æ¢åˆ°è¯·æ±‚ä¿¡æ¯ -->
                </div>

                <div id="responseTab" class="tab-content active">
                    <!-- å“åº”ä½“æ ‡ç­¾å†…å®¹ï¼Œé»˜è®¤æ¿€æ´» -->
                    <div class="response-area" id="responseContent">
                        {/* å“åº”å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ */}
                    </div>
                </div>

                <div id="headersTab" class="tab-content">
                    <!-- å“åº”å¤´æ ‡ç­¾å†…å®¹ï¼Œé»˜è®¤éšè— -->
                    <div class="response-area" id="headersContent">
                        {/* å“åº”å¤´å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ */}
                    </div>
                </div>

                <div id="infoTab" class="tab-content">
                    <!-- è¯·æ±‚ä¿¡æ¯æ ‡ç­¾å†…å®¹ï¼Œé»˜è®¤éšè— -->
                    <div class="response-area" id="infoContent">
                        {/* è¯·æ±‚ä¿¡æ¯å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ */}
                    </div>
                </div>

                <div id="statusIndicator" class="status-indicator"></div>
                <!-- çŠ¶æ€æŒ‡ç¤ºå™¨ï¼Œç”¨äºæ˜¾ç¤ºæ“ä½œçŠ¶æ€ -->
            </div>
        </div>
    </div>

    <!-- å³ä¾§ï¼šå°é¸Ÿæ¡Œå® é¢æ¿ -->
    <div class="pet-panel">
        <div class="pet-header">
            <h2>ğŸ¦ å°é¸ŸåŠ©æ‰‹</h2>
            <!-- å°é¸Ÿé¢æ¿æ ‡é¢˜ -->
            <p>ç‚¹å‡»äº’åŠ¨ï¼Œæ‹–æ‹½ç§»åŠ¨</p>
            <!-- å°é¸Ÿé¢æ¿å‰¯æ ‡é¢˜ -->
        </div>

        <!-- å°é¸Ÿå®¹å™¨ -->
        <div class="pet-container" id="petContainer">
            {/* å°é¸Ÿå°†åœ¨è¿™é‡Œæ˜¾ç¤º */}
        </div>

        <div class="pet-controls">
            <h3 style="margin-bottom: 15px; color: #555; font-size: 14px;">å°é¸Ÿæ§åˆ¶</h3>
            <!-- å°é¸Ÿæ§åˆ¶åŒºåŸŸæ ‡é¢˜ -->
            <div class="pet-btn-group">
                <!-- å°é¸Ÿæ§åˆ¶æŒ‰é’®ç»„ -->
                <button class="pet-btn" onclick="feedBird()">ğŸª å–‚é£Ÿ</button>
                <!-- å–‚é£ŸæŒ‰é’®ï¼Œç‚¹å‡»è§¦å‘feedBird()å‡½æ•° -->
                <button class="pet-btn" onclick="danceBird()">ğŸ’ƒ è·³èˆ</button>
                <!-- è·³èˆæŒ‰é’®ï¼Œç‚¹å‡»è§¦å‘danceBird()å‡½æ•° -->
                <button class="pet-btn" onclick="sleepBird()">ğŸ˜´ ç¡è§‰</button>
                <!-- ç¡è§‰æŒ‰é’®ï¼Œç‚¹å‡»è§¦å‘sleepBird()å‡½æ•° -->
                <button class="pet-btn" onclick="wakeBird()">â° å«é†’</button>
                <!-- å«é†’æŒ‰é’®ï¼Œç‚¹å‡»è§¦å‘wakeBird()å‡½æ•° -->
                <button class="pet-btn" onclick="changeBirdMood('happy')">ğŸ˜Š å¼€å¿ƒ</button>
                <!-- å¼€å¿ƒæŒ‰é’®ï¼Œç‚¹å‡»è§¦å‘changeBirdMood('happy')å‡½æ•° -->
                <button class="pet-btn" onclick="changeBirdMood('sad')">ğŸ˜¢ éš¾è¿‡</button>
                <!-- éš¾è¿‡æŒ‰é’®ï¼Œç‚¹å‡»è§¦å‘changeBirdMood('sad')å‡½æ•° -->
            </div>

            <div style="margin-top: 15px;">
                <!-- å°é¸ŸçŠ¶æ€ç›‘æ§åŒºåŸŸ -->
                <h4 style="font-size: 12px; color: #777; margin-bottom: 8px;">çŠ¶æ€ç›‘æ§</h4>
                <!-- çŠ¶æ€ç›‘æ§æ ‡é¢˜ -->
                <div id="birdStatus" style="font-size: 11px; color: #555;">
                    <!-- å°é¸ŸçŠ¶æ€æ˜¾ç¤ºå®¹å™¨ -->
                    å¥åº·: <span id="healthBar">100%</span><br>
                    <!-- å¥åº·çŠ¶æ€æ˜¾ç¤º -->
                    å¿«ä¹: <span id="happyBar">100%</span><br>
                    <!-- å¿«ä¹çŠ¶æ€æ˜¾ç¤º -->
                    èƒ½é‡: <span id="energyBar">100%</span>
                    <!-- èƒ½é‡çŠ¶æ€æ˜¾ç¤º -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- å¼•å…¥å°é¸Ÿç»„ä»¶è„šæœ¬ -->
<script src="./pet/pet-core.js"></script>
<!-- å¼•å…¥å°é¸Ÿæ ¸å¿ƒè„šæœ¬ -->
<script src="./pet/pet-behaviors.js"></script>
<!-- å¼•å…¥å°é¸Ÿè¡Œä¸ºè„šæœ¬ -->
<script src="./pet/pet-interactions.js"></script>
<!-- å¼•å…¥å°é¸Ÿäº¤äº’è„šæœ¬ -->
<script src="./pet/pet-messages.js"></script>
<!-- å¼•å…¥å°é¸Ÿæ¶ˆæ¯è„šæœ¬ -->
<script src="./pet/pet-animations.js"></script>
<!-- å¼•å…¥å°é¸ŸåŠ¨ç”»è„šæœ¬ -->

<script>
    // ========== å…¨å±€å˜é‡ ==========
    let currentToken = '';
    // å½“å‰è®¤è¯Token
    let petInstance = null;
    // å°é¸Ÿæ¡Œå® å®ä¾‹
    let apiHistory = [];
    // APIè°ƒç”¨å†å²è®°å½•

    // ========== é¡µé¢åˆå§‹åŒ– ==========
    window.onload = function() {
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        // åˆå§‹åŒ–å°é¸Ÿ
        initializeBirdPet();

        // æ¢å¤ä¿å­˜çš„Token
        const savedToken = localStorage.getItem('apiToken');
        // ä»æœ¬åœ°å­˜å‚¨è·å–ä¿å­˜çš„Token
        if (savedToken) {
            currentToken = savedToken;
            // å¦‚æœå­˜åœ¨ä¿å­˜çš„Tokenï¼Œèµ‹å€¼ç»™currentToken
            showStatus('æ£€æµ‹åˆ°å·²ä¿å­˜çš„Token', 'success');
            // æ˜¾ç¤ºçŠ¶æ€ä¿¡æ¯
            if (petInstance) {
                petInstance.speak('æ£€æµ‹åˆ°å·²æœ‰Tokenï¼Œå¯ä»¥ç›´æ¥æµ‹è¯•API', 3000);
                // å°é¸Ÿè¯´è¯
            }
        }

        // åŠ è½½APIå†å²
        loadApiHistory();
    };

    // ========== å°é¸Ÿåˆå§‹åŒ– ==========
    function initializeBirdPet() {
        try {
            petInstance = new DesktopPet();
            // åˆ›å»ºå°é¸Ÿæ¡Œå® å®ä¾‹
            petInstance.init({
                // åˆå§‹åŒ–é…ç½®
                containerId: 'petContainer',
                // å®¹å™¨ID
                name: 'APIåŠ©æ‰‹',
                // åç§°
                size: 70,
                // å¤§å°
                autoWander: true,
                // æ˜¯å¦è‡ªåŠ¨æ¼«æ¸¸
                mood: 'curious',
                // åˆå§‹å¿ƒæƒ…
                colors: {
                    // é¢œè‰²é…ç½®
                    body: '#FFCC00',
                    // èº«ä½“é¢œè‰²
                    beak: '#FF9900',
                    // é¸Ÿå˜´é¢œè‰²
                    eye: '#000000',
                    // çœ¼ç›é¢œè‰²
                    wing: '#FFAA00'
                    // ç¿…è†€é¢œè‰²
                }
            });

            // å¯åŠ¨çŠ¶æ€ç›‘æ§
            startBirdStatusMonitor();
            // å¼€å§‹ç›‘æ§å°é¸ŸçŠ¶æ€

            console.log('ğŸ¦ å°é¸ŸåŠ©æ‰‹åˆå§‹åŒ–æˆåŠŸ');
            // æ§åˆ¶å°è¾“å‡ºæ—¥å¿—
        } catch (error) {
            // æ•è·é”™è¯¯
            console.error('å°é¸Ÿåˆå§‹åŒ–å¤±è´¥:', error);
            // æ§åˆ¶å°è¾“å‡ºé”™è¯¯
            document.getElementById('petContainer').innerHTML = `
                <div style="text-align: center; padding: 50px; color: #666;">
                    <!-- æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ -->
                    <p>å°é¸ŸåŠ©æ‰‹åŠ è½½å¤±è´¥</p>
                    <p style="font-size: 12px;">${error.message}</p>
                </div>
            `;
        }
    }

    // ========== APIè¯·æ±‚å‡½æ•° ==========
    async function login() {
        // å¼‚æ­¥ç™»å½•å‡½æ•°
        const username = document.getElementById('username').value.trim();
        // è·å–ç”¨æˆ·å
        const password = document.getElementById('password').value.trim();
        // è·å–å¯†ç 

        if (!username || !password) {
            // éªŒè¯è¾“å…¥
            showStatus('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ', 'error');
            // æ˜¾ç¤ºé”™è¯¯çŠ¶æ€
            return;
        }

        showStatus('æ­£åœ¨ç™»å½•...', 'loading');
        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€

        // å°é¸Ÿååº”
        if (petInstance) {
            // å¦‚æœå°é¸Ÿå®ä¾‹å­˜åœ¨
            petInstance.showLoading(true);
            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
            petInstance.speak('æ­£åœ¨ç™»å½•ç³»ç»Ÿ...');
            // å°é¸Ÿè¯´è¯
        }

        try {
            const startTime = Date.now();
            // è®°å½•å¼€å§‹æ—¶é—´
            const response = await fetch('/api/login', {
                // å‘é€ç™»å½•è¯·æ±‚
                method: 'POST',
                // POSTæ–¹æ³•
                headers: {
                    'Content-Type': 'application/json'
                    // è¯·æ±‚å¤´
                },
                body: JSON.stringify({ username, password })
                // è¯·æ±‚ä½“
            });

            const duration = Date.now() - startTime;
            // è®¡ç®—è¯·æ±‚è€—æ—¶
            const data = await response.json();
            // è§£æå“åº”ä¸ºJSON

            // å°é¸Ÿåœæ­¢åŠ è½½
            if (petInstance) {
                petInstance.showLoading(false);
                // éšè—åŠ è½½åŠ¨ç”»
            }

            if (data.code === 1) {
                // åˆ¤æ–­å“åº”ç æ˜¯å¦ä¸ºæˆåŠŸï¼ˆå‡è®¾1è¡¨ç¤ºæˆåŠŸï¼‰
                // ç™»å½•æˆåŠŸ
                currentToken = data.data.token;
                // ä¿å­˜Token
                localStorage.setItem('apiToken', currentToken);
                // å­˜å‚¨Tokenåˆ°æœ¬åœ°å­˜å‚¨

                showStatus(`âœ… ç™»å½•æˆåŠŸï¼è€—æ—¶ ${duration}ms`, 'success');
                // æ˜¾ç¤ºæˆåŠŸçŠ¶æ€
                document.getElementById('tokenResult').innerHTML = `
                    <div style="color: #155724; font-weight: bold;">
                        âœ… ç™»å½•æˆåŠŸï¼æ¬¢è¿ ${data.data.name}
                        <!-- æ˜¾ç¤ºç™»å½•æˆåŠŸä¿¡æ¯ -->
                    </div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px; word-break: break-all;">
                        Token: ${currentToken.substring(0, 50)}...
                        <!-- æ˜¾ç¤ºTokençš„å‰50ä¸ªå­—ç¬¦ -->
                    </div>
                `;

                // å°é¸Ÿåº†ç¥
                if (petInstance) {
                    petInstance.celebrate();
                    // å°é¸Ÿåº†ç¥åŠ¨ä½œ
                    petInstance.speak(`ç™»å½•æˆåŠŸï¼æ¬¢è¿${data.data.name}`, 3000);
                    // å°é¸Ÿè¯´è¯
                    petInstance.changeMood('happy');
                    // æ”¹å˜å°é¸Ÿå¿ƒæƒ…
                }

                // è®°å½•APIè°ƒç”¨
                recordApiCall('POST', '/login', response.status, duration, data);
                // è®°å½•è¿™æ¬¡APIè°ƒç”¨

            } else {
                // ç™»å½•å¤±è´¥
                showStatus(`âŒ ç™»å½•å¤±è´¥: ${data.msg}`, 'error');
                // æ˜¾ç¤ºå¤±è´¥çŠ¶æ€

                // å°é¸Ÿååº”
                if (petInstance) {
                    petInstance.playAnimation('error');
                    // æ’­æ”¾é”™è¯¯åŠ¨ç”»
                    petInstance.speak('ç™»å½•å¤±è´¥ï¼Œæ£€æŸ¥è´¦å·å¯†ç ', 2000);
                    // å°é¸Ÿè¯´è¯
                    petInstance.changeMood('sad');
                    // æ”¹å˜å°é¸Ÿå¿ƒæƒ…
                }
            }

        } catch (error) {
            // æ•è·ç½‘ç»œé”™è¯¯
            showStatus(`âŒ ç½‘ç»œé”™è¯¯: ${error.message}`, 'error');
            // æ˜¾ç¤ºé”™è¯¯çŠ¶æ€

            if (petInstance) {
                petInstance.showLoading(false);
                // éšè—åŠ è½½åŠ¨ç”»
                petInstance.playAnimation('error');
                // æ’­æ”¾é”™è¯¯åŠ¨ç”»
                petInstance.speak('ç½‘ç»œè¿æ¥å¤±è´¥', 2000);
                // å°é¸Ÿè¯´è¯
            }
        }
    }

    async function sendApiRequest() {
        // å‘é€APIè¯·æ±‚
        const method = document.getElementById('apiMethod').value;
        // è·å–è¯·æ±‚æ–¹æ³•
        let url = document.getElementById('apiUrl').value.trim();
        // è·å–URL
        const requestBody = document.getElementById('requestBody').value.trim();
        // è·å–è¯·æ±‚ä½“

        if (!url) {
            // éªŒè¯URL
            showStatus('è¯·è¾“å…¥æ¥å£åœ°å€', 'error');
            return;
        }

        // ç¡®ä¿URLä»¥/å¼€å¤´
        if (!url.startsWith('/')) {
            url = '/' + url;
            // è‡ªåŠ¨æ·»åŠ æ–œæ 
            document.getElementById('apiUrl').value = url;
            // æ›´æ–°è¾“å…¥æ¡†çš„å€¼
        }
        
        // ç¡®ä¿APIè·¯å¾„åŒ…å«/apiå‰ç¼€ï¼ˆé™¤äº†ç™»å½•æ¥å£ï¼‰
        if (!url.startsWith('/api') && !url.startsWith('/login')) {
            url = '/api' + url;
            document.getElementById('apiUrl').value = url;
        }

        // å°é¸Ÿååº”
        if (petInstance) {
            petInstance.showLoading(true);
            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
            petInstance.speak(`æ­£åœ¨è°ƒç”¨ ${method} ${url}...`);
            // å°é¸Ÿè¯´è¯
        }

        showStatus('æ­£åœ¨å‘é€è¯·æ±‚...', 'loading');
        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€

        const headers = {
            'Content-Type': 'application/json'
            // è®¾ç½®è¯·æ±‚å¤´
        };

        // æ·»åŠ Tokenï¼ˆå¦‚æœå­˜åœ¨ä¸”ä¸æ˜¯ç™»å½•æ¥å£ï¼‰
        if (currentToken && url !== '/login') {
            headers['token'] = currentToken;
            // æ·»åŠ è®¤è¯Token
        }

        const startTime = Date.now();
        // è®°å½•å¼€å§‹æ—¶é—´

        try {
            const options = {
                method: method,
                // è¯·æ±‚æ–¹æ³•
                headers: headers
                // è¯·æ±‚å¤´
            };

            // æ·»åŠ è¯·æ±‚ä½“
            if (method !== 'GET' && requestBody) {
                // éGETè¯·æ±‚ä¸”æœ‰è¯·æ±‚ä½“æ—¶
                try {
                    JSON.parse(requestBody);
                    // éªŒè¯JSONæ ¼å¼
                    options.body = requestBody;
                    // è®¾ç½®è¯·æ±‚ä½“
                } catch (e) {
                    showStatus('è¯·æ±‚å‚æ•°å¿…é¡»æ˜¯æœ‰æ•ˆçš„JSONæ ¼å¼', 'error');
                    // æ˜¾ç¤ºé”™è¯¯
                    if (petInstance) {
                        petInstance.showLoading(false);
                        // éšè—åŠ è½½åŠ¨ç”»
                        petInstance.speak('JSONæ ¼å¼é”™è¯¯', 2000);
                        // å°é¸Ÿè¯´è¯
                    }
                    return;
                }
            }

            const response = await fetch(url, options);
            // å‘é€è¯·æ±‚
            const duration = Date.now() - startTime;
            // è®¡ç®—è¯·æ±‚è€—æ—¶

            // è·å–å“åº”å¤´å’Œå“åº”ä½“
            const responseHeaders = {};
            // å­˜å‚¨å“åº”å¤´
            response.headers.forEach((value, key) => {
                // éå†å“åº”å¤´
                responseHeaders[key] = value;
            });

            const responseText = await response.text();
            // è·å–å“åº”æ–‡æœ¬
            let responseData;
            // å“åº”æ•°æ®

            try {
                responseData = JSON.parse(responseText);
                // å°è¯•è§£æä¸ºJSON
            } catch {
                responseData = responseText;
                // è§£æå¤±è´¥ï¼Œä½¿ç”¨åŸå§‹æ–‡æœ¬
            }

            // å°é¸Ÿååº”
            if (petInstance) {
                petInstance.showLoading(false);
                // éšè—åŠ è½½åŠ¨ç”»

                if (response.ok) {
                    // è¯·æ±‚æˆåŠŸ
                    petInstance.speak(`è¯·æ±‚æˆåŠŸï¼è€—æ—¶ ${duration}ms`, 2000);
                    // å°é¸Ÿè¯´è¯

                    // æ ¹æ®æ•°æ®é‡åšä¸åŒååº”
                    if (responseData && responseData.data) {
                        // å¦‚æœæœ‰æ•°æ®
                        const dataCount = Array.isArray(responseData.data) ?
                            responseData.data.length :
                            (typeof responseData.data === 'object' ? 1 : 0);
                        // è®¡ç®—æ•°æ®æ¡æ•°

                        if (dataCount > 10) {
                            petInstance.dance();
                            // æ•°æ®å¤šæ—¶è·³èˆ
                            petInstance.speak(`è·å–äº†${dataCount}æ¡æ•°æ®ï¼Œå¥½å¤šå‘€ï¼`, 3000);
                        } else if (dataCount > 0) {
                            petInstance.celebrate();
                            // æœ‰æ•°æ®æ—¶åº†ç¥
                        }
                    }
                } else {
                    petInstance.playAnimation('error');
                    // æ’­æ”¾é”™è¯¯åŠ¨ç”»
                    petInstance.speak(`è¯·æ±‚å¤±è´¥: ${response.status}`, 2000);
                    // å°é¸Ÿè¯´è¯
                    petInstance.changeMood('sad');
                    // æ”¹å˜å¿ƒæƒ…
                }
            }

            // æ˜¾ç¤ºç»“æœ
            displayApiResponse(response, responseData, responseHeaders, duration, options);
            // æ˜¾ç¤ºAPIå“åº”

            // è®°å½•APIè°ƒç”¨
            recordApiCall(method, url, response.status, duration, responseData);
            // è®°å½•è¿™æ¬¡APIè°ƒç”¨

        } catch (error) {
            const duration = Date.now() - startTime;
            // è®¡ç®—è¯·æ±‚è€—æ—¶
            showStatus(`âŒ è¯·æ±‚å¤±è´¥: ${error.message}`, 'error');
            // æ˜¾ç¤ºé”™è¯¯çŠ¶æ€

            if (petInstance) {
                petInstance.showLoading(false);
                // éšè—åŠ è½½åŠ¨ç”»
                petInstance.playAnimation('error');
                // æ’­æ”¾é”™è¯¯åŠ¨ç”»
                petInstance.speak('ç½‘ç»œè¯·æ±‚å¤±è´¥', 2000);
                // å°é¸Ÿè¯´è¯
                petInstance.changeMood('sad');
                // æ”¹å˜å¿ƒæƒ…
            }

            // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
            displayErrorResponse(error, duration);
            // æ˜¾ç¤ºé”™è¯¯å“åº”
        }
    }

    // ========== å¿«æ·æµ‹è¯•å‡½æ•° ==========
    function quickApiTest(method, url, body = null) {
        // å¿«æ·APIæµ‹è¯•å‡½æ•°
        document.getElementById('apiMethod').value = method;
        // è®¾ç½®è¯·æ±‚æ–¹æ³•
        document.getElementById('apiUrl').value = url;
        // è®¾ç½®URL

        if (body) {
            // å¦‚æœæœ‰è¯·æ±‚ä½“
            document.getElementById('requestBody').value = body;
            // è®¾ç½®è¯·æ±‚ä½“
        } else if (method === 'POST' || method === 'PUT') {
            // POSTæˆ–PUTæ–¹æ³•æ—¶
            document.getElementById('requestBody').value = '{}';
            // è®¾ç½®ç©ºJSON
        } else {
            document.getElementById('requestBody').value = '';
            // æ¸…ç©ºè¯·æ±‚ä½“
        }

        // å°é¸Ÿæç¤º
        if (petInstance) {
            petInstance.speak(`å‡†å¤‡æµ‹è¯• ${method} ${url}`, 1500);
            // å°é¸Ÿè¯´è¯
        }

        // è‡ªåŠ¨å‘é€è¯·æ±‚
        setTimeout(() => sendApiRequest(), 500);
        // å»¶è¿Ÿ500msåå‘é€è¯·æ±‚
    }

    async function testAllApis() {
        // æ‰¹é‡æµ‹è¯•æ‰€æœ‰API
            if (petInstance) {
                petInstance.speak('å¼€å§‹æ‰¹é‡æµ‹è¯•æ‰€æœ‰æ¥å£...', 2000);
                // å°é¸Ÿè¯´è¯
            }
            
            // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
            if (!currentToken) {
                showStatus('è¯·å…ˆç™»å½•å†è¿›è¡Œæ‰¹é‡æµ‹è¯•', 'error');
                if (petInstance) {
                    petInstance.speak('è¯·å…ˆç™»å½•è·å–Token', 2000);
                }
                return;
            }

        const apis = [
            // å®šä¹‰è¦æµ‹è¯•çš„APIåˆ—è¡¨
            { method: 'GET', url: '/api/depts', name: 'éƒ¨é—¨åˆ—è¡¨' },
            { method: 'GET', url: '/api/emps?page=1&pageSize=3', name: 'å‘˜å·¥åˆ—è¡¨' },
            { method: 'GET', url: '/api/log/page?page=1&pageSize=3', name: 'æ“ä½œæ—¥å¿—' },
            { method: 'GET', url: '/api/actuator/health', name: 'å¥åº·æ£€æŸ¥' }
        ];

        let successCount = 0;
        // æˆåŠŸè®¡æ•°
        let failCount = 0;
        // å¤±è´¥è®¡æ•°

        for (let i = 0; i < apis.length; i++) {
            // éå†æ‰€æœ‰API
            const api = apis[i];

            if (petInstance) {
                petInstance.speak(`æ­£åœ¨æµ‹è¯• ${api.name}...`, 1500);
                // å°é¸Ÿè¯´è¯
            }

            try {
                const response = await fetch(api.url, {
                    // å‘é€è¯·æ±‚
                    method: api.method,
                    // è¯·æ±‚æ–¹æ³•
                    headers: currentToken ? { 'token': currentToken } : {}
                    // è¯·æ±‚å¤´ï¼Œå¦‚æœæœ‰Tokenåˆ™æ·»åŠ 
                });

                if (response.ok) {
                    // è¯·æ±‚æˆåŠŸ
                    successCount++;
                    // æˆåŠŸè®¡æ•°åŠ 1
                    if (petInstance) {
                        petInstance.speak(`${api.name} æµ‹è¯•æˆåŠŸ`, 1000);
                        // å°é¸Ÿè¯´è¯
                    }
                } else {
                    // è¯·æ±‚å¤±è´¥
                    failCount++;
                    // å¤±è´¥è®¡æ•°åŠ 1
                    if (petInstance) {
                        petInstance.speak(`${api.name} æµ‹è¯•å¤±è´¥`, 1000);
                        // å°é¸Ÿè¯´è¯
                    }
                }

                // çŸ­æš‚å»¶è¿Ÿ
                await new Promise(resolve => setTimeout(resolve, 1000));
                // å»¶è¿Ÿ1ç§’

            } catch (error) {
                failCount++;
                // æ•è·é”™è¯¯ï¼Œå¤±è´¥è®¡æ•°åŠ 1
            }
        }

        // æ˜¾ç¤ºç»“æœ
        const result = `æ‰¹é‡æµ‹è¯•å®Œæˆï¼æˆåŠŸ: ${successCount}, å¤±è´¥: ${failCount}`;
        // æ„é€ ç»“æœå­—ç¬¦ä¸²
        showStatus(result, successCount === apis.length ? 'success' : 'error');
        // æ˜¾ç¤ºçŠ¶æ€

        if (petInstance) {
            if (successCount === apis.length) {
                // å¦‚æœå…¨éƒ¨æˆåŠŸ
                petInstance.celebrate();
                // å°é¸Ÿåº†ç¥
                petInstance.speak('æ‰€æœ‰æ¥å£æµ‹è¯•æˆåŠŸï¼ğŸ‰', 3000);
                // å°é¸Ÿè¯´è¯
            } else {
                petInstance.speak(`æµ‹è¯•å®Œæˆï¼Œ${failCount}ä¸ªæ¥å£å¤±è´¥`, 2000);
                // å°é¸Ÿè¯´è¯
            }
        }
    }

    // ========== å°é¸Ÿæ§åˆ¶å‡½æ•° ==========
    function feedBird() {
        // å–‚é£Ÿå°é¸Ÿ
        if (petInstance && petInstance.feed) {
            petInstance.feed();
            // è°ƒç”¨å–‚é£Ÿæ–¹æ³•
        }
    }

    function danceBird() {
        // è®©å°é¸Ÿè·³èˆ
        if (petInstance && petInstance.dance) {
            petInstance.dance();
        }
    }

    function sleepBird() {
        // è®©å°é¸Ÿç¡è§‰
        if (petInstance && petInstance.sleep) {
            petInstance.sleep();
        }
    }

    function wakeBird() {
        // å«é†’å°é¸Ÿ
        if (petInstance && petInstance.wakeUp) {
            petInstance.wakeUp();
        }
    }

    function changeBirdMood(mood) {
        // æ”¹å˜å°é¸Ÿå¿ƒæƒ…
        if (petInstance && petInstance.changeMood) {
            petInstance.changeMood(mood);
        }
    }

    // ========== å·¥å…·å‡½æ•° ==========
    function showStatus(message, type) {
        // æ˜¾ç¤ºçŠ¶æ€æ¶ˆæ¯
        const indicator = document.getElementById('statusIndicator');
        // è·å–çŠ¶æ€æŒ‡ç¤ºå™¨å…ƒç´ 
        indicator.textContent = message;
        // è®¾ç½®æ¶ˆæ¯å†…å®¹
        indicator.className = `status-indicator status-${type}`;
        // è®¾ç½®CSSç±»å
        indicator.style.display = 'block';
        // æ˜¾ç¤ºå…ƒç´ 

        // è‡ªåŠ¨éšè—
        if (type !== 'loading') {
            // å¦‚æœä¸æ˜¯åŠ è½½çŠ¶æ€
            setTimeout(() => {
                indicator.style.display = 'none';
                // 5ç§’åéšè—
            }, 5000);
        }
    }

    function switchTab(tabName) {
        // åˆ‡æ¢æ ‡ç­¾é¡µ
        // æ›´æ–°æ ‡ç­¾
        document.querySelectorAll('.tab').forEach(tab => {
            tab.classList.remove('active');
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeç±»
        });
        document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
            // ç§»é™¤æ‰€æœ‰å†…å®¹çš„activeç±»
        });

        // æ¿€æ´»é€‰ä¸­æ ‡ç­¾
        document.querySelector(`[onclick="switchTab('${tabName}')"]`).classList.add('active');
        // ç»™ç‚¹å‡»çš„æ ‡ç­¾æ·»åŠ activeç±»
        document.getElementById(tabName + 'Tab').classList.add('active');
        // æ˜¾ç¤ºå¯¹åº”çš„å†…å®¹
    }

    function displayApiResponse(response, data, headers, duration, options) {
        // æ˜¾ç¤ºAPIå“åº”
        // æ˜¾ç¤ºå“åº”ä½“
        const responseContent = document.getElementById('responseContent');
        // è·å–å“åº”å†…å®¹å…ƒç´ 
        responseContent.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
        // æ ¼å¼åŒ–æ˜¾ç¤ºJSON

        // æ˜¾ç¤ºå“åº”å¤´
        const headersContent = document.getElementById('headersContent');
        // è·å–å“åº”å¤´å…ƒç´ 
        headersContent.innerHTML = `<pre>${JSON.stringify(headers, null, 2)}</pre>`;
        // æ ¼å¼åŒ–æ˜¾ç¤ºå“åº”å¤´

        // æ˜¾ç¤ºè¯·æ±‚ä¿¡æ¯
        const infoContent = document.getElementById('infoContent');
        // è·å–è¯·æ±‚ä¿¡æ¯å…ƒç´ 
        infoContent.innerHTML = `
è¯·æ±‚æ–¹æ³•: ${options.method}
è¯·æ±‚URL: ${document.getElementById('apiUrl').value}
è¯·æ±‚è€—æ—¶: ${duration}ms
å“åº”çŠ¶æ€: ${response.status} ${response.statusText}
å“åº”å¤§å°: ${JSON.stringify(data).length} å­—èŠ‚
è¯·æ±‚æ—¶é—´: ${new Date().toLocaleString()}
        `;
        // æ˜¾ç¤ºè¯·æ±‚ä¿¡æ¯

        // æ˜¾ç¤ºçŠ¶æ€
        if (response.ok) {
            showStatus(`âœ… è¯·æ±‚æˆåŠŸï¼è€—æ—¶ ${duration}ms`, 'success');
            // æ˜¾ç¤ºæˆåŠŸçŠ¶æ€
        } else {
            showStatus(`âŒ è¯·æ±‚å¤±è´¥: ${response.status} ${response.statusText}`, 'error');
            // æ˜¾ç¤ºå¤±è´¥çŠ¶æ€
        }

        // åˆ‡æ¢åˆ°å“åº”æ ‡ç­¾
        switchTab('response');
    }

    function displayErrorResponse(error, duration) {
        // æ˜¾ç¤ºé”™è¯¯å“åº”
        const responseContent = document.getElementById('responseContent');
        // è·å–å“åº”å†…å®¹å…ƒç´ 
        responseContent.innerHTML = `<pre>${error.stack || error.message}</pre>`;
        // æ˜¾ç¤ºé”™è¯¯å †æ ˆæˆ–æ¶ˆæ¯

        const infoContent = document.getElementById('infoContent');
        // è·å–è¯·æ±‚ä¿¡æ¯å…ƒç´ 
        infoContent.innerHTML = `
é”™è¯¯ç±»å‹: ${error.name}
é”™è¯¯ä¿¡æ¯: ${error.message}
è¯·æ±‚è€—æ—¶: ${duration}ms
é”™è¯¯æ—¶é—´: ${new Date().toLocaleString()}
        `;
        // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

        switchTab('response');
        // åˆ‡æ¢åˆ°å“åº”æ ‡ç­¾
    }

    function recordApiCall(method, url, status, duration, responseData) {
        // è®°å½•APIè°ƒç”¨
        const apiCall = {
            // æ„é€ APIè°ƒç”¨è®°å½•å¯¹è±¡
            method,
            url,
            status,
            duration,
            timestamp: new Date().toISOString(),
            // æ—¶é—´æˆ³
            success: status >= 200 && status < 300
            // æ˜¯å¦æˆåŠŸ
        };

        apiHistory.unshift(apiCall);
        // æ·»åŠ åˆ°å†å²è®°å½•å¼€å¤´
        if (apiHistory.length > 20) {
            apiHistory = apiHistory.slice(0, 20);
            // åªä¿ç•™æœ€è¿‘20æ¡è®°å½•
        }

        // ä¿å­˜åˆ°localStorage
        localStorage.setItem('apiHistory', JSON.stringify(apiHistory));
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
    }

    function loadApiHistory() {
        // åŠ è½½APIå†å²
        const savedHistory = localStorage.getItem('apiHistory');
        // ä»æœ¬åœ°å­˜å‚¨è·å–å†å²è®°å½•
        if (savedHistory) {
            apiHistory = JSON.parse(savedHistory);
            // è§£æä¸ºJSONæ•°ç»„
        }
    }

    function startBirdStatusMonitor() {
        // å¯åŠ¨å°é¸ŸçŠ¶æ€ç›‘æ§
        setInterval(() => {
            // æ¯2ç§’æ‰§è¡Œä¸€æ¬¡
            if (petInstance && petInstance.getState) {
                // å¦‚æœå°é¸Ÿå®ä¾‹å­˜åœ¨ä¸”æœ‰getStateæ–¹æ³•
                const state = petInstance.getState();
                // è·å–å°é¸ŸçŠ¶æ€
                document.getElementById('healthBar').textContent = state.health + '%';
                // æ›´æ–°å¥åº·çŠ¶æ€æ˜¾ç¤º
                document.getElementById('happyBar').textContent = state.happiness + '%';
                // æ›´æ–°å¿«ä¹çŠ¶æ€æ˜¾ç¤º
                document.getElementById('energyBar').textContent = state.energy + '%';
                // æ›´æ–°èƒ½é‡çŠ¶æ€æ˜¾ç¤º
            }
        }, 2000);
    }
</script>
<!-- JavaScriptä»£ç ç»“æŸ -->
</body>
<!-- æ–‡æ¡£ä¸»ä½“ç»“æŸ -->
</html>
<!-- HTMLæ–‡æ¡£ç»“æŸ -->