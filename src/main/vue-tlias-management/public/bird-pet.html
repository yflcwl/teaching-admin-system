<!-- å£°æ˜æ–‡æ¡£ç±»å‹ä¸ºHTML5ï¼Œå‘Šè¯‰æµè§ˆå™¨æŒ‰ç…§HTML5æ ‡å‡†è§£ææ­¤æ–‡æ¡£ -->
<!DOCTYPE html>
<!-- HTMLæ–‡æ¡£æ ¹å…ƒç´ ï¼Œlangå±æ€§æŒ‡å®šæ–‡æ¡£ä¸»è¦è¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡ -->
<html lang="zh-CN">
<!-- æ–‡æ¡£å¤´éƒ¨ï¼ŒåŒ…å«å…ƒæ•°æ®å’Œå¤–éƒ¨èµ„æºé“¾æ¥ -->
<head>
    <!-- è®¾ç½®æ–‡æ¡£å­—ç¬¦ç¼–ç ä¸ºUTF-8ï¼Œæ”¯æŒä¸­æ–‡å’Œç‰¹æ®Šå­—ç¬¦ -->
    <meta charset="UTF-8">
    <!-- å“åº”å¼è®¾è®¡çš„å…³é”®æ ‡ç­¾ï¼Œè®¾ç½®è§†å£å®½åº¦ç­‰äºè®¾å¤‡å®½åº¦ï¼Œåˆå§‹ç¼©æ”¾æ¯”ä¾‹ä¸º1 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- é¡µé¢æ ‡é¢˜ï¼Œæ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡ç­¾é¡µä¸Š -->
    <title>ğŸ¦ å°é¸ŸåŠ©æ‰‹</title>

    <!-- å¼•å…¥å°é¸Ÿæ¡Œå® çš„å¤–éƒ¨CSSæ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="./pet/pet-styles.css">

    <!-- å†…éƒ¨æ ·å¼è¡¨ï¼Œå®šä¹‰é¡µé¢çš„æ ¸å¿ƒæ ·å¼ -->
    <style>
        /* é€šé…é€‰æ‹©å™¨ï¼Œé‡ç½®æ‰€æœ‰å…ƒç´ çš„å†…å¤–è¾¹è·ï¼Œè®¾ç½®ç›’æ¨¡å‹ä¸ºborder-box */
        * {
            margin: 0;        /* æ¸…é™¤é»˜è®¤å¤–è¾¹è· */
            padding: 0;       /* æ¸…é™¤é»˜è®¤å†…è¾¹è· */
            box-sizing: border-box; /* ç›’æ¨¡å‹ï¼šå®½åº¦å’Œé«˜åº¦åŒ…å«è¾¹æ¡†å’Œå†…è¾¹è· */
        }

        /* é¡µé¢ä¸»ä½“æ ·å¼ */
        body {
            /* å­—ä½“æ ˆï¼šä¼˜å…ˆä½¿ç”¨ç³»ç»Ÿå­—ä½“ï¼Œç¡®ä¿è·¨å¹³å°ä¸€è‡´æ€§ */
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            /* èƒŒæ™¯æ¸å˜ï¼šä»è“è‰²(#667eea)åˆ°ç´«è‰²(#764ba2)ï¼Œ135åº¦è§’ */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;     /* æœ€å°é«˜åº¦ä¸ºè§†å£é«˜åº¦ï¼Œç¡®ä¿å…¨å±æ˜¾ç¤º */
            padding: 20px;         /* å†…è¾¹è· */
            /* å¼¹æ€§å¸ƒå±€ï¼šæ°´å¹³å‚ç›´å±…ä¸­ */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* å°é¸Ÿé¢æ¿å®¹å™¨æ ·å¼ */
        .pet-panel {
            background: white;      /* ç™½è‰²èƒŒæ™¯ */
            border-radius: 15px;    /* åœ†è§’è¾¹æ¡† */
            /* é˜´å½±æ•ˆæœï¼šXåç§»0ï¼ŒYåç§»20pxï¼Œæ¨¡ç³Š40pxï¼ŒåŠé€æ˜é»‘è‰² */
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;       /* æº¢å‡ºå†…å®¹éšè— */
            display: flex;          /* å¼¹æ€§å¸ƒå±€ */
            flex-direction: column; /* å‚ç›´æ–¹å‘æ’åˆ—å­å…ƒç´  */
            width: 400px;           /* å›ºå®šå®½åº¦ */
        }

        /* é¢æ¿å¤´éƒ¨æ ·å¼ */
        .pet-header {
            /* å¤´éƒ¨èƒŒæ™¯æ¸å˜ï¼šä¸é¡µé¢èƒŒæ™¯ç›¸åŒ */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;           /* æ–‡å­—ç™½è‰² */
            padding: 20px;          /* å†…è¾¹è· */
            text-align: center;     /* æ–‡å­—å±…ä¸­ */
        }

        /* é¢æ¿æ ‡é¢˜æ ·å¼ */
        .pet-header h2 {
            font-size: 20px;        /* å­—ä½“å¤§å° */
            margin-bottom: 5px;     /* åº•éƒ¨å¤–è¾¹è· */
        }

        /* å°é¸Ÿæ˜¾ç¤ºå®¹å™¨æ ·å¼ */
        .pet-container {
            flex: 1;                /* å¼¹æ€§å› å­1ï¼Œå æ®å‰©ä½™ç©ºé—´ */
            position: relative;     /* ç›¸å¯¹å®šä½ï¼Œä½œä¸ºå­å…ƒç´ çš„å®šä½åŸºå‡† */
            min-height: 400px;      /* æœ€å°é«˜åº¦ */
            border: 2px dashed #e0e0e0; /* è™šçº¿è¾¹æ¡† */
            margin: 15px;           /* å¤–è¾¹è· */
            border-radius: 10px;    /* åœ†è§’ */
            overflow: hidden;       /* æº¢å‡ºéšè— */
        }

        /* æ§åˆ¶åŒºåŸŸæ ·å¼ */
        .pet-controls {
            padding: 20px;          /* å†…è¾¹è· */
            background: #f8f9fa;    /* æµ…ç°è‰²èƒŒæ™¯ */
            border-top: 1px solid #e0e0e0; /* é¡¶éƒ¨è¾¹æ¡†çº¿ */
        }

        /* æŒ‰é’®ç»„æ ·å¼ï¼ˆç½‘æ ¼å¸ƒå±€ï¼‰ */
        .pet-btn-group {
            display: grid;                      /* ç½‘æ ¼å¸ƒå±€ */
            grid-template-columns: repeat(3, 1fr); /* ä¸‰åˆ—ç­‰å®½ */
            gap: 10px;                          /* ç½‘æ ¼é—´éš™ */
            margin-top: 15px;                   /* é¡¶éƒ¨å¤–è¾¹è· */
        }

        /* æŒ‰é’®åŸºç¡€æ ·å¼ */
        .pet-btn {
            padding: 8px;                       /* å†…è¾¹è· */
            background: white;                  /* ç™½è‰²èƒŒæ™¯ */
            border: 2px solid #e1e5e9;          /* è¾¹æ¡† */
            border-radius: 6px;                 /* åœ†è§’ */
            font-size: 11px;                    /* å­—ä½“å¤§å° */
            cursor: pointer;                    /* é¼ æ ‡æ‰‹å‹æŒ‡é’ˆ */
            transition: all 0.2s;               /* æ‰€æœ‰å±æ€§è¿‡æ¸¡åŠ¨ç”»ï¼Œ0.2ç§’ */
            text-align: center;                 /* æ–‡å­—å±…ä¸­ */
        }

        /* æŒ‰é’®æ‚¬åœæ•ˆæœ */
        .pet-btn:hover {
            background: #f0f0f0;                /* æ‚¬åœæ—¶å˜ä¸ºæµ…ç°è‰² */
        }

        /* å“åº”å¼è®¾è®¡ï¼šå±å¹•å®½åº¦å°äºç­‰äº768pxæ—¶åº”ç”¨ */
        @media (max-width: 768px) {
            body {
                padding: 10px;                  /* å‡å°‘å†…è¾¹è· */
            }
            
            .pet-panel {
                width: 100%;                    /* å®½åº¦è‡ªé€‚åº” */
            }
            
            .pet-container {
                min-height: 300px;              /* å‡å°æœ€å°é«˜åº¦ */
            }
        }
    </style>
</head>

<!-- æ–‡æ¡£ä¸»ä½“ -->
<body>
    <!-- å°é¸ŸåŠ©æ‰‹ä¸»é¢æ¿ -->
    <div class="pet-panel">
        <!-- é¢æ¿å¤´éƒ¨ -->
        <div class="pet-header">
            <h2>ğŸ¦ å°é¸ŸåŠ©æ‰‹</h2>     <!-- æ ‡é¢˜å¸¦å°é¸Ÿè¡¨æƒ… -->
            <p>ç‚¹å‡»äº’åŠ¨ï¼Œæ‹–æ‹½ç§»åŠ¨</p> <!-- æ“ä½œæç¤º -->
        </div>

        <!-- å°é¸Ÿæ˜¾ç¤ºåŒºåŸŸ -->
        <div class="pet-container" id="petContainer">
            {/* å°é¸Ÿå°†åœ¨è¿™é‡Œæ˜¾ç¤º */} <!-- æ³¨é‡Šï¼šå°é¸Ÿå…ƒç´ å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <!-- æ§åˆ¶åŒºåŸŸ -->
        <div class="pet-controls">
            <h3 style="margin-bottom: 15px; color: #555; font-size: 14px;">å°é¸Ÿæ§åˆ¶</h3>
            
            <!-- æ§åˆ¶æŒ‰é’®ç»„ -->
            <div class="pet-btn-group">
                <!-- å…­ä¸ªæ§åˆ¶æŒ‰é’®ï¼Œæ¯ä¸ªéƒ½æœ‰onclickäº‹ä»¶ -->
                <button class="pet-btn" onclick="feedBird()">ğŸª å–‚é£Ÿ</button>
                <button class="pet-btn" onclick="danceBird()">ğŸ’ƒ è·³èˆ</button>
                <button class="pet-btn" onclick="sleepBird()">ğŸ˜´ ç¡è§‰</button>
                <button class="pet-btn" onclick="wakeBird()">â° å«é†’</button>
                <button class="pet-btn" onclick="changeBirdMood('happy')">ğŸ˜Š å¼€å¿ƒ</button>
                <button class="pet-btn" onclick="changeBirdMood('sad')">ğŸ˜¢ éš¾è¿‡</button>
            </div>

            <!-- çŠ¶æ€ç›‘æ§åŒºåŸŸ -->
            <div style="margin-top: 15px;">
                <h4 style="font-size: 12px; color: #777; margin-bottom: 8px;">çŠ¶æ€ç›‘æ§</h4>
                <div id="birdStatus" style="font-size: 11px; color: #555;">
                    <!-- çŠ¶æ€å€¼å°†é€šè¿‡JavaScriptåŠ¨æ€æ›´æ–° -->
                    å¥åº·: <span id="healthBar">100%</span><br>
                    å¿«ä¹: <span id="happyBar">100%</span><br>
                    èƒ½é‡: <span id="energyBar">100%</span>
                </div>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥å°é¸Ÿæ¡Œå® çš„JavaScriptæ¨¡å— -->
    <!-- è¿™äº›è„šæœ¬åº”è¯¥æŒ‰ä¾èµ–é¡ºåºå¼•å…¥ -->
    <script src="./pet/pet-core.js"></script>       <!-- æ ¸å¿ƒåŠŸèƒ½ -->
    <script src="./pet/pet-behaviors.js"></script>  <!-- è¡Œä¸ºé€»è¾‘ -->
    <script src="./pet/pet-interactions.js"></script> <!-- äº¤äº’åŠŸèƒ½ -->
    <script src="./pet/pet-messages.js"></script>   <!-- æ¶ˆæ¯ç³»ç»Ÿ -->
    <script src="./pet/pet-animations.js"></script> <!-- åŠ¨ç”»æ•ˆæœ -->

    <!-- é¡µé¢è‡ªå®šä¹‰JavaScriptä»£ç  -->
    <script>
        // ========== å…¨å±€å˜é‡ ==========
        let petInstance = null; // å­˜å‚¨å°é¸Ÿæ¡Œå® å®ä¾‹çš„å…¨å±€å˜é‡

        // ========== é¡µé¢åˆå§‹åŒ– ==========
        // å½“é¡µé¢å®Œå…¨åŠ è½½åæ‰§è¡Œ
        window.onload = function() {
            initializeBirdPet(); // åˆå§‹åŒ–å°é¸Ÿæ¡Œå® 
        };

        // ========== å°é¸Ÿåˆå§‹åŒ–å‡½æ•° ==========
        function initializeBirdPet() {
            try {
                // åˆ›å»ºå°é¸Ÿæ¡Œå® å®ä¾‹
                petInstance = new DesktopPet();
                // åˆå§‹åŒ–é…ç½®
                petInstance.init({
                    containerId: 'petContainer', // å®¹å™¨å…ƒç´ ID
                    name: 'APIåŠ©æ‰‹',             // å°é¸Ÿåç§°
                    size: 70,                    // å°é¸Ÿå¤§å°ï¼ˆåƒç´ ï¼‰
                    autoWander: true,            // æ˜¯å¦è‡ªåŠ¨æ¼«æ¸¸
                    mood: 'curious',             // åˆå§‹å¿ƒæƒ…
                    colors: {                    // é¢œè‰²é…ç½®
                        body: '#FFCC00',         // èº«ä½“é¢œè‰²ï¼ˆé»„è‰²ï¼‰
                        beak: '#FF9900',         // é¸Ÿå˜´é¢œè‰²ï¼ˆæ©™é»„è‰²ï¼‰
                        eye: '#000000',          // çœ¼ç›é¢œè‰²ï¼ˆé»‘è‰²ï¼‰
                        wing: '#FFAA00'          // ç¿…è†€é¢œè‰²ï¼ˆæµ…æ©™è‰²ï¼‰
                    }
                });

                // å¯åŠ¨çŠ¶æ€ç›‘æ§ç³»ç»Ÿ
                startBirdStatusMonitor();

                // æ§åˆ¶å°è¾“å‡ºæˆåŠŸä¿¡æ¯
                console.log('ğŸ¦ å°é¸ŸåŠ©æ‰‹åˆå§‹åŒ–æˆåŠŸ');
            } catch (error) {
                // æ•è·å¹¶å¤„ç†åˆå§‹åŒ–é”™è¯¯
                console.error('å°é¸Ÿåˆå§‹åŒ–å¤±è´¥:', error);
                // åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
                document.getElementById('petContainer').innerHTML = `
                    <div style="text-align: center; padding: 50px; color: #666;">
                        <p>å°é¸ŸåŠ©æ‰‹åŠ è½½å¤±è´¥</p>
                        <p style="font-size: 12px;">${error.message}</p>
                    </div>
                `;
            }
        }

        // ========== çŠ¶æ€ç›‘æ§å‡½æ•° ==========
        function startBirdStatusMonitor() {
            // æ­¤å‡½æ•°åº”ç”±å¤–éƒ¨è„šæœ¬å®ç°å®Œæ•´åŠŸèƒ½
            // è¿™é‡Œåªä¿ç•™æ¡†æ¶ï¼Œå®é™…çŠ¶æ€ç›‘æ§é€»è¾‘åœ¨å¤–éƒ¨è„šæœ¬ä¸­
        }

        // ========== æ§åˆ¶å‡½æ•° ==========
        // è¿™äº›å‡½æ•°å°†è°ƒç”¨å°é¸Ÿå®ä¾‹çš„å¯¹åº”æ–¹æ³•

        // å–‚é£ŸåŠŸèƒ½
        function feedBird() {
            if (petInstance) {
                petInstance.feed();     // è°ƒç”¨å–‚é£Ÿæ–¹æ³•
                updateBirdStatus();     // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            }
        }

        // è·³èˆåŠŸèƒ½
        function danceBird() {
            if (petInstance) {
                petInstance.dance();    // è°ƒç”¨è·³èˆæ–¹æ³•
                updateBirdStatus();     // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            }
        }

        // ç¡è§‰åŠŸèƒ½
        function sleepBird() {
            if (petInstance) {
                petInstance.sleep();    // è°ƒç”¨ç¡è§‰æ–¹æ³•
                updateBirdStatus();     // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            }
        }

        // å«é†’åŠŸèƒ½
        function wakeBird() {
            if (petInstance) {
                petInstance.wake();     // è°ƒç”¨å«é†’æ–¹æ³•
                updateBirdStatus();     // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            }
        }

        // æ”¹å˜å¿ƒæƒ…åŠŸèƒ½
        function changeBirdMood(mood) {
            if (petInstance) {
                petInstance.changeMood(mood); // è°ƒç”¨æ”¹å˜å¿ƒæƒ…æ–¹æ³•
                updateBirdStatus();           // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            }
        }

        // ========== çŠ¶æ€æ›´æ–°å‡½æ•° ==========
        function updateBirdStatus() {
            if (petInstance) {
                // è·å–å°é¸Ÿå½“å‰çŠ¶æ€
                const status = petInstance.getStatus();
                if (status) {
                    // æ›´æ–°é¡µé¢ä¸Šçš„çŠ¶æ€æ˜¾ç¤º
                    document.getElementById('healthBar').textContent = `${status.health}%`;
                    document.getElementById('happyBar').textContent = `${status.happy}%`;
                    document.getElementById('energyBar').textContent = `${status.energy}%`;
                }
            }
        }
    </script>
</body>
</html>